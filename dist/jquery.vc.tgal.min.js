var tGal=function(e){return function(k,f,l,d,m){k=void 0===k?".tgal":k;f=void 0===f?".tgal img":f;l=void 0===l?0:l;d=void 0===d?!1:d;m=void 0===m?200:m;var t=0,g=1,n=0,p=0,q=1,h=9999,u=e(k).width(),v=e(f).length;e(f).each(function(){var b=e(this);t+=1;n+=1;switch(typeof d){case "number":q=Math.ceil(u/d);break;case "object":if(Array.isArray(d)){var a=d.length,c=g-1;c>=a&&(c%=a);q=d[c];break}default:q=g%2?2:3}a=b.data("tgal-width");c=b.data("tgal-height");void 0!==a&&a||(a=b.width(),b.data("tgal-width",
a));void 0!==c&&c||(c=b.height(),b.data("tgal-height",c));if(!a||!c)b.addClass("not-loaded").one("load",function(){e(this).removeClass("not-loaded");e(".not-loaded").length||tGal(k,f,l,d,m)});if(c<h){var r=h/c;h=c;p/=r}else r=c/h,a/=r;p+=a;b.removeClass(function(a,b){var c="tgal-line-*".replace(/\*/g,"\\S+");return(b.match(new RegExp("\\b"+c,"g"))||[]).join(" ")});b.addClass("tgal-line-"+g);b.parent().addClass("tgal-line-wrap-"+g);if(n==q||v==t)b=h/(p/(u-l*n)),a=e(".tgal-line-"+g),a.css("height",
b+"px"),a=a.parent(),a.css("max-height",b+"px"),b<m?a.addClass("small-height"):a.removeClass("small-height"),p=n=0,h=9999,g+=1})}}(jQuery);